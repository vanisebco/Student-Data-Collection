<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <title>Student Data Collection</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: "Noto Sans", Arial, sans-serif; background:#f4f6f8; padding:20px; }
    .container { max-width:900px; margin:0 auto; background:white; padding:24px; border-radius:8px; box-shadow:0 4px 18px rgba(0,0,0,0.08); }
    h1 { margin:0 0 8px 0; font-size:22px; }
    p.desc { color:#333; line-height:1.5; margin-bottom:18px; white-space:pre-wrap; }
    label { display:block; font-weight:600; margin-top:12px; }
    input[type="text"], input[type="date"], input[type="tel"], select, textarea, input[type="number"] {
      width:100%; padding:8px 10px; margin-top:6px; box-sizing:border-box; border:1px solid #ccd0d6; border-radius:6px;
    }
    textarea { min-height:100px; }
    .row { display:flex; gap:12px; }
    .col { flex:1; }
    .buttons { margin-top:18px; display:flex; gap:12px; }
    button { padding:10px 14px; border-radius:6px; border:0; cursor:pointer; font-weight:600; }
    button.primary { background:#1f6feb; color:white; }
    button.secondary { background:#e6eefc; color:#1f6feb; }
    .success { background:#e6ffef; padding:10px; border-radius:6px; margin-top:12px; color:#06643a; display:none; }
    .error { background:#fff1f0; padding:10px; border-radius:6px; margin-top:12px; color:#8b0f0f; display:none; }
    .inline { display:inline-block; margin-right:12px; }
    .checkbox-list label, .radio-list label { font-weight:500; display:block; margin-top:6px; }
  </style>
</head>
<body>
  <div class="container" id="formContainer">
    <h1>Student Data Collection</h1>
    <p class="desc">
प्रिय शिक्षक साथियों आशा है आपके द्वारा कक्षा 6 से 8 के साथ आधाफुल कॉमिक बुक्स और डिजिटल कॉमिक्स पर काम किया जा रहा होगा। 
आप सभी ने एक दिवसीय प्रशिक्षण के दौरान ऑनलाईन कोर्स कर लिया होगा। यह फॉर्म आपसे कुछ सरल जानकारियाँ प्राप्त करने के लिए भेजा जा रहा है।
कक्षा 6 से 8 के उन सभी शिक्षकों द्वारा इस फॉर्म को भरा जाना अनिवार्य है जिन्होंने सेल्फ़ एस्टीम और बॉडी कॉन्फिडेंस के एक दिवसीय प्रशिक्षण में भाग लिया है और कक्षा 6 से 8 के विद्यार्थियों के साथ कॉमिक बुक पर 6 सत्रों का आयोजन कर रहे हैं।
कॉमिक बुक/डिजिटल कॉमिक्स पर काम करने के दौरान विद्यार्थियों द्वारा की गई गतिविधियों कुछ अच्छे फोटोज और वीडिओ साक्ष्य के रूप में इस फॉर्म के साथ जरूर अपलोड करें। बच्चो में आ रहे परिवर्तन को बता सकते है।
यदि आपका कॉमिक बुक/डिजिटल कॉमिक्स पर कुछ फ़ीडबैक हो तो भी आप इसमें हमारे साथ साझा कर सकते हैं जो कार्यक्रम को प्रभावी बनाने में मदद करेंगे।
    </p>

    <form id="mainForm">
      <!-- 1 -->
      <label for="date">1. Date</label>
      <input type="date" id="date" name="Date" required />

      <!-- Cascade Dropdowns -->
      <label for="district">2. Name of District</label>
      <select id="district" name="District" required><option value="">-- Select District --</option></select>

      <label for="block">3. Name of Block</label>
      <select id="block" name="Block" required><option value="">-- Select Block --</option></select>

      <label for="panchayat">4. Name of Gram Panchayat</label>
      <select id="panchayat" name="Panchayat" required><option value="">-- Select Panchayat --</option></select>

      <label for="school">5. Name of School</label>
      <select id="school" name="School" required><option value="">-- Select School --</option></select>

      <!-- 6 & 7 -->
      <div class="row">
        <div class="col">
          <label for="schoolType1">6. Type of School - I</label>
          <select id="schoolType1" name="TypeOfSchool_I" required>
            <option value="">-- Select --</option>
            <option value="class 1 to 8">a. class 1 to 8</option>
            <option value="class 6-8">b. class 6-8</option>
            <option value="class 6-12">c. class 6-12</option>
            <option value="class 1-12">d. class 1-12</option>
          </select>
        </div>
        <div class="col">
          <label for="schoolType2">7. Type of School - II</label>
          <select id="schoolType2" name="TypeOfSchool_II" required>
            <option value="">-- Select --</option>
            <option value="Only Boys">a. Only Boys</option>
            <option value="Only Girls">b. Only Girls</option>
            <option value="Boys and Girls">c. Boys and Girls</option>
          </select>
        </div>
      </div>

      <!-- 8 -->
      <label for="teacherName">8. Name of Teacher</label>
      <select id="teacherName" name="TeacherName" required><option value="">-- Select Teacher (Principal) --</option></select>

      <!-- 9 -->
      <label for="mobile">9. Mobile Number</label>
      <input type="tel" id="mobile" name="MobileNumber" placeholder="10 digit mobile number" pattern="[0-9]{10}" required />

      <!-- 10 -->
      <label>10. कक्षा जिसमे आप शिक्षण कराते हैं?</label>
      <div>
        <label class="inline"><input type="checkbox" name="ClassTaught" value="कक्षा 6" /> कक्षा 6</label>
        <label class="inline"><input type="checkbox" name="ClassTaught" value="कक्षा 7" /> कक्षा 7</label>
        <label class="inline"><input type="checkbox" name="ClassTaught" value="कक्षा 8" /> कक्षा 8</label>
        <label class="inline"><input type="checkbox" name="ClassTaught" value="कक्षा 9" /> कक्षा 9</label>
        <label class="inline"><input type="checkbox" name="ClassTaught" value="कक्षा 10" /> कक्षा 10</label>
      </div>

      <!-- 11–29 -->
      <label>11. कॉमिक बुक/डिजिटल कॉमिक आधारित गतिविधियों का संचालन किया गया?</label>
      <label><input type="radio" name="ActivitiesConducted" value="हाँ" required /> हाँ</label>
      <label><input type="radio" name="ActivitiesConducted" value="नहीं" /> नहीं</label>

      <label>12. कक्षा 6 के साथ कॉमिक बुक्स/डिजिटल कॉमिक्स पर कार्य किया गया?</label>
      <label><input type="radio" name="Class6Worked" value="हाँ" required /> हाँ</label>
      <label><input type="radio" name="Class6Worked" value="नहीं" /> नहीं</label>

      <label>13. कक्षा 7 के साथ कॉमिक बुक्स/डिजिटल कॉमिक्स पर कार्य किया गया?</label>
      <label><input type="radio" name="Class7Worked" value="हाँ" required /> हाँ</label>
      <label><input type="radio" name="Class7Worked" value="नहीं" /> नहीं</label>

      <label>14. कक्षा 8 के साथ कॉमिक बुक्स/डिजिटल कॉमिक्स पर कार्य किया गया?</label>
      <label><input type="radio" name="Class8Worked" value="हाँ" required /> हाँ</label>
      <label><input type="radio" name="Class8Worked" value="नहीं" /> नहीं</label>

      <label>15. "खजाने का नक्शा" पर काम किया गया?</label>
      <label><input type="radio" name="KhazaneKaNaksha" value="हाँ" /> हाँ</label>
      <label><input type="radio" name="KhazaneKaNaksha" value="नहीं" /> नहीं</label>

      <label>16. "बदलीपुर के चीते" पर काम किया गया?</label>
      <label><input type="radio" name="BadlipurKeCheete" value="हाँ" /> हाँ</label>
      <label><input type="radio" name="BadlipurKeCheete" value="नहीं" /> नहीं</label>

      <label>17. "फिल्मस्टार का अपहरण" पर काम किया गया?</label>
      <label><input type="radio" name="FilmstarApharan" value="हाँ" /> हाँ</label>
      <label><input type="radio" name="FilmstarApharan" value="नहीं" /> नहीं</label>

      <label>18. "गायब हाथी" पर काम किया गया?</label>
      <label><input type="radio" name="GayabHati" value="हाँ" /> हाँ</label>
      <label><input type="radio" name="GayabHati" value="नहीं" /> नहीं</label>

      <label>19. "खतरे में बदलीपुर" पर काम किया गया?</label>
      <label><input type="radio" name="KhatreMeinBadlipur" value="हाँ" /> हाँ</label>
      <label><input type="radio" name="KhatreMeinBadlipur" value="नहीं" /> नहीं</label>

      <label>20. "बोलती चट्टान" पर काम किया गया?</label>
      <label><input type="radio" name="BoltiChattan" value="हाँ" /> हाँ</label>
      <label><input type="radio" name="BoltiChattan" value="नहीं" /> नहीं</label>

      <label>21. कक्षा 6 में लड़कों की संख्या</label><input type="number" name="Class6_Boys" min="0" />
      <label>22. कक्षा 6 में लड़कियों की संख्या</label><input type="number" name="Class6_Girls" min="0" />
      <label>23. कक्षा 7 में लड़कों की संख्या</label><input type="number" name="Class7_Boys" min="0" />
      <label>24. कक्षा 7 में लड़कियों की संख्या</label><input type="number" name="Class7_Girls" min="0" />
      <label>25. कक्षा 8 में लड़कों की संख्या</label><input type="number" name="Class8_Boys" min="0" />
      <label>26. कक्षा 8 में लड़कियों की संख्या</label><input type="number" name="Class8_Girls" min="0" />

      <label>27. क्या आपके द्वारा विद्यालय में डिजिटल कॉमिक्स उपयोग में ली गई?</label>
      <label><input type="radio" name="UsedDigitalComics" value="हाँ" /> हाँ</label>
      <label><input type="radio" name="UsedDigitalComics" value="नहीं" /> नहीं</label>

      <label>28. विद्यार्थियों ने किन-किन मंचों पर प्रस्तुतीकरण किया?</label>
      <div class="checkbox-list">
        <label><input type="checkbox" name="PresentationPlatform" value="प्रार्थना सभा" /> प्रार्थना सभा</label>
        <label><input type="checkbox" name="PresentationPlatform" value="कक्षा में ही" /> कक्षा में ही</label>
        <label><input type="checkbox" name="PresentationPlatform" value="एस एम सी की बैठक" /> एस एम सी की बैठक</label>
        <label><input type="checkbox" name="PresentationPlatform" value="अभिभावक-शिक्षा बैठक" /> अभिभावक-शिक्षा बैठक</label>
        <label><input type="checkbox" name="PresentationPlatform" value="नो बेग डे" /> नो बेग डे</label>
        <label>अन्य: <input type="text" name="PresentationPlatform_Other" placeholder="अगर अन्य हो तो लिखें" /></label>
      </div>

      <label>29. Feedback & experience</label>
      <textarea name="Feedback" placeholder="अपना अनुभव और फीडबैक यहाँ लिखें"></textarea>

      <div class="buttons">
        <button type="button" class="primary" id="submitBtn">Submit</button>
        <button type="button" class="secondary" id="resetBtn">Reset</button>
      </div>

      <div class="success" id="successBox">धन्यवाद! आपका उत्तर सफलतापूर्वक भेज दिया गया है।</div>
      <div class="error" id="errorBox"></div>
    </form>
  </div>

  <script>
  let cascade = {};

  // JSON load
  fetch('https://raw.githubusercontent.com/vanisebco/Student-Data-Collection/main/cascade_data.json')
    .then(r => r.json())
    .then(data => {
      cascade = data;
      console.log("Loaded districts:", Object.keys(cascade));
      populateSelect(document.getElementById('district'), Object.keys(cascade).sort(), '-- Select District --');
    })
    .catch(err => console.error("Error loading cascade_data.json:", err));

  function populateSelect(selectEl, items, placeholder) {
    selectEl.innerHTML = '';
    const opt0 = document.createElement('option');
    opt0.value = '';
    opt0.textContent = placeholder;
    selectEl.appendChild(opt0);
    items.forEach(it => {
      const o = document.createElement('option');
      o.value = it;
      o.textContent = it;
      selectEl.appendChild(o);
    });
  }

  document.getElementById('district').addEventListener('change', function() {
    const b = document.getElementById('block');
    const p = document.getElementById('panchayat');
    const s = document.getElementById('school');
    const t = document.getElementById('teacherName');
    b.innerHTML = '<option value="">-- Select Block --</option>';
    p.innerHTML = '<option value="">-- Select Panchayat --</option>';
    s.innerHTML = '<option value="">-- Select School --</option>';
    t.innerHTML = '<option value="">-- Select Teacher --</option>';
    if (!this.value) return;
    populateSelect(b, Object.keys(cascade[this.value] || {}).sort(), '-- Select Block --');
  });

  document.getElementById('block').addEventListener('change', function() {
    const d = document.getElementById('district').value;
    const p = document.getElementById('panchayat');
    const s = document.getElementById('school');
    const t = document.getElementById('teacherName');
    p.innerHTML = '<option value="">-- Select Panchayat --</option>';
    s.innerHTML = '<option value="">-- Select School --</option>';
    t.innerHTML = '<option value="">-- Select Teacher --</option>';
    if (!d || !this.value) return;
    populateSelect(p, Object.keys(cascade[d][this.value] || {}).sort(), '-- Select Panchayat --');
  });

  document.getElementById('panchayat').addEventListener('change', function() {
    const d = document.getElementById('district').value;
    const b = document.getElementById('block').value;
    const s = document.getElementById('school');
    const t = document.getElementById('teacherName');
    s.innerHTML = '<option value="">-- Select School --</option>';
    t.innerHTML = '<option value="">-- Select Teacher --</option>';
    if (!d || !b || !this.value) return;
    populateSelect(s, Object.keys(cascade[d][b][this.value] || {}).sort(), '-- Select School --');
  });

  document.getElementById('school').addEventListener('change', function() {
    const d = document.getElementById('district').value;
    const b = document.getElementById('block').value;
    const p = document.getElementById('panchayat').value;
    const t = document.getElementById('teacherName');
    t.innerHTML = '<option value="">-- Select Teacher --</option>';
    if (!d || !b || !p || !this.value) return;
    populateSelect(t, cascade[d][b][p][this.value] || [], '-- Select Teacher --');
  });
  </script>
  <script>
  // --- ये आपका Web App URL होगा (Apps Script से मिलेगा) ---
  const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwhhB5Nt_Hu-ymMvr_b0j0S57QHGc_ojCZgfmLzj0iGxfSm4i_opaDFerC_sM3lW2te/exec";

  document.getElementById("submitBtn").addEventListener("click", function () {
    const form = document.getElementById("mainForm");
    const formData = new FormData(form);
    const json = {};
    formData.forEach((value, key) => {
      // अगर multiple checkboxes हैं तो उन्हें array में रखो
      if (json[key]) {
        if (!Array.isArray(json[key])) json[key] = [json[key]];
        json[key].push(value);
      } else {
        json[key] = value;
      }
    });

    fetch(WEB_APP_URL, {
      method: "POST",
      body: JSON.stringify(json),
      headers: {
        "Content-Type": "application/json",
      },
    })
      .then((res) => res.json())
      .then((res) => {
        if (res.status === "OK") {
          document.getElementById("successBox").style.display = "block";
          document.getElementById("errorBox").style.display = "none";
          form.reset();
        } else {
          document.getElementById("errorBox").style.display = "block";
          document.getElementById("errorBox").textContent =
            "कुछ गड़बड़ हुई: " + JSON.stringify(res);
        }
      })
      .catch((err) => {
        document.getElementById("errorBox").style.display = "block";
        document.getElementById("errorBox").textContent =
          "Error: " + err.message;
      });
  });

  document.getElementById("resetBtn").addEventListener("click", function () {
    document.getElementById("mainForm").reset();
  });
</script>

</body>
</html>







